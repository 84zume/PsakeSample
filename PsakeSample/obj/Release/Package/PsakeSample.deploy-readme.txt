
===========================
前提条件 :
--------------------------
この Web パッケージを配置するには、.cmd ファイルを実行しているコンピューターに Web 配置 (msdeploy.exe) をインストールする必要があります。Web 配置のインストール方法については、次の URL を参照してください:
http://go.microsoft.com/?linkid=9278654
このバッチ ファイルでは、パッケージ ファイル "PsakeSample.zip" と、必要に応じて、環境変数で指定された、同じフォルダーまたは配置先フォルダー内のパラメーター ファイル "PsakeSample.SetParameters.xml" が必要になります。

===========================
使い方:
--------------------------
{0} [/T|/Y] [/M:ComputerName] [/U:UserName] [/P:Password] [/G:UseTempAgent] [msdeploy.exe の追加のフラグ ...]


===========================
必須のフラグ:
--------------------------
/T:
	"-whatif" フラグを指定して msdeploy.exe を呼び出すと、配置がシミュレートされます。これによって、パッケージが配置されることはありません。代わりに、実際にパッケージを配置したときの動作に関するレポートが作成されます。
/Y:
	"-whatif" フラグを指定して msdeploy.exe を呼び出します。これにより、パッケージが現在のコンピューターまたは対象サーバーに配置されます。/T フラグを使用して生成された出力を検証した後に /Y を使用してください。

注意: 同じコマンド内で /T と /Y を使用しないでください。

===========================
オプションのフラグ:
--------------------------
 既定では、このスクリプトは、エージェント サービスではなく現在のユーザー資格情報を使用して呼び出される現在のコンピューターに配置されます。詳細なシナリオでは、次の値を渡すだけです。

/M:<対象サーバー名またはサービス URL>
	このフラグが指定されていない場合は、コマンドが実行されるコンピューターにパッケージがインストールされます。サービス URL は次の形式で指定できます:
		https://<DestinationServer>:8172/MSDeploy.axd 
	この形式を指定するには、IIS が対象サーバーにインストールされていて、IIS 7 Web 管理サービス (WMSvc) および Web Deployment Handler が設定されている必要があります。
	サービス URL は次の形式でも指定できます:
		http://<DestinationServer>/MSDeployAgentService 
	この形式を指定するには、対象サーバーの管理者権限が必要です。また、対象サーバーに Web 配置リモート サービス (MsDepSvc) がインストールされている必要があります。対象サーバーに IIS 7 をインストールする必要はありません。

/U:<ユーザー名>
/P:<パスワード>
/G:<True | False>
	対象サーバー上に一時リスナーを作成してパッケージが配置されるように指定します。これには、対象サーバーへの特別なインストールは必要ありませんが、そのサーバーの管理者である必要があります。このフラグの既定値は False です。

/A:<Basic | NTLM>
	使用する認証の種類。指定できる値は NTLM および Basic です。wmsvc プロバイダー設定が指定されている場合、既定の認証タイプは Basic です。wmsvc プロバイダー設定が指定されていない場合、既定の認証タイプは NTLM です。

/L 
	パッケージがローカルの IIS Express ユーザー インスタンスに配置されます。

[msdeploy.exe の追加のフラグ]
	msdeploy.exe コマンドでは、追加のフラグがサポートされています。追加のフラグの一部は、"$(ProjectName).Deploy.cmd" ファイルに含めることができるため、フラグは実行中に msdeploy.exe に渡されます。
	また、"_MsDeployAdditionalFlags" 環境変数を設定して追加のフラグを指定することもできます。これらの設定は、このバッチ ファイルで使用されます。
	注意: 次の例に示すように、等号 (=) を含む任意のフラグ値は二重引用符で囲む必要があります。これにより、パッケージに含まれるデータベースの配置がスキップされます:
		"-skip:objectName=dbFullSql" 

===========================
環境固有の設定:
--------------------------

	配置環境ごとにアプリケーション固有の設定 (たとえば、IIS アプリケーション名、物理パス、任意の接続文字列) をカスタマイズするには、次のファイルの設定を編集します: 
		 "PsakeSample.SetParameters.xml"
===========================
この配置スクリプトの詳細については、以下を参照してください:	http://go.microsoft.com/fwlink/?LinkID=183544

